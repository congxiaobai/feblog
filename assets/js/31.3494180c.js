(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{378:function(e,s,t){"use strict";t.r(s);var a=t(45),n=Object(a.a)({},(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("blockquote",[t("p",[e._v("æœ¬æ–‡é˜…è¯»æŒ‡æ•°:3"),t("br"),e._v("\nDenoå‡ºæ¥ä¸€æ®µæ—¶é—´äº†ï¼Œä¹‹å‰äº†è§£çš„å¹¶ä¸å¤šã€‚æœ¬æ–‡ç®—æ˜¯ç§‘æ™®æ€§è´¨ï¼Œæä¾›äº†ä¸€äº›ç‚¹ï¼Œéƒ½æ˜¯æ—¥å¸¸åšæŠ€æœ¯é€‰æ‹©å…³æ³¨çš„ç‚¹ã€‚å¯ä»¥ä¸€è¯»")])]),e._v(" "),t("h1",{attrs:{id:"æ€»è§ˆ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ€»è§ˆ"}},[e._v("#")]),e._v(" æ€»è§ˆ")]),e._v(" "),t("p",[e._v("Denoæ˜¯ä¸€ä¸ªJSå’ŒTSçš„å®‰å…¨è¿è¡Œæ—¶ã€‚è¿™ä¸€ç« ç®€å•ä»‹ç»ä¸€ä¸‹Denoï¼Œè·ŸNodeçš„åŒºåˆ«ï¼Œè§£æä¸€äº›æœºåˆ¶æ¯”å¦‚æ¨¡å—ï¼ŒåŒ…ï¼Œå¼‚æ­¥ï¼ŒTSï¼Œå®‰å…¨å’Œå·¥å…·ã€‚")]),e._v(" "),t("h1",{attrs:{id:"denoèµ·æº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#denoèµ·æº"}},[e._v("#")]),e._v(" Denoèµ·æº")]),e._v(" "),t("p",[e._v("Ryan Dahlâ€™såœ¨2018å¹´çš„JSConfEUä¸­â€œ10 Things I Regret About Node.jsâ€ä¸­å®£å¸ƒäº†Denoã€‚å¼€å‘è€…çœ‹åˆ°è‡ªå·±çš„é¡¹ç›®å—ä¼—è¶Šæ¥è¶Šå¤šï¼Œè¢«ä½¿ç”¨åœ¨å„ä¸ªåœ°æ–¹ï¼Œå¹¶ä»é¡¹ç›®çš„å¤±è¯¯ä¸­å­¦ä¹ ã€‚æ­£å¸¸çš„å¼€å‘è€…ä¼šå»æé«˜æˆ–è€…é‡æ„æºé¡¹ç›®ã€‚ä½†æ˜¯Ryan Dahlæ›´æ¿€è¿›ï¼Œä»–å®³æ€•ç ´åæ‰å…¼å®¹æ€§ã€‚")]),e._v(" "),t("p",[e._v("ä½†æ˜¯Denoè¿˜æ˜¯å¾ˆå¹´è½»çš„ï¼Œ2020å¹´5è¶Šæ‰å‘å¸ƒæ­£æ˜¯ç¬¬ä¸€ä¸ªç‰ˆæœ¬ã€‚\nå¯¹æ¯”ä¸€ä¸‹Deno å’Œ Node")]),e._v(" "),t("h1",{attrs:{id:"deno-vs-node-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deno-vs-node-js"}},[e._v("#")]),e._v(" Deno vs. Node.js")]),e._v(" "),t("p",[e._v("ä¸‹é¢æ˜¯ä¸»è¦çš„åŒºåˆ«ã€‚ç¨åæˆ‘ä»¬ä¼šæ·±å…¥åˆ°æœºåˆ¶ã€‚ä½†æ˜¯ç›®å‰è¿˜æ˜¯ä»åŠŸèƒ½æ€§å’Œå¼€å‘è€…ä½“éªŒä¸Šè¯´")]),e._v(" "),t("p",[e._v("#å†…ç½®åŒ…ç®¡ç† vs npm")]),e._v(" "),t("p",[e._v("nodeéœ€è¦Npmæ¥åšåŒ…ç®¡ç†ã€‚Denoåˆ™ä»GOå’ŒRUSTä¸­å­¦ä¹ ï¼Œä½¿ç”¨URLè¿›è¡ŒåŒ…å¼•ç”¨ã€‚")]),e._v(" "),t("h1",{attrs:{id:"es-modules-vs-commonjs-modules"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#es-modules-vs-commonjs-modules"}},[e._v("#")]),e._v(" ES modules vs. CommonJS modules")]),e._v(" "),t("p",[e._v("Node ä½¿ç”¨CommonJS è§„èŒƒ:")]),e._v(" "),t("blockquote",[t("p",[e._v("const module = require(â€˜module-nameâ€™)")])]),e._v(" "),t("p",[e._v("Deno ä½¿ç”¨æ ‡å‡†çš„ EcmaScript modules:")]),e._v(" "),t("blockquote",[t("p",[e._v("import module from â€˜https://some-repo/module-name.ts'")])]),e._v(" "),t("p",[e._v("æ³¨æ„Denoéœ€è¦æ¨¡å—çš„å…¨éƒ¨åè¯ï¼ŒåŒ…æ‹¬æ‰©å±•åã€‚")]),e._v(" "),t("h1",{attrs:{id:"åŸºäºæƒé™çš„è®¿é—®-vs-å…¨æ–‡è®¿é—®"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#åŸºäºæƒé™çš„è®¿é—®-vs-å…¨æ–‡è®¿é—®"}},[e._v("#")]),e._v(" åŸºäºæƒé™çš„è®¿é—® vs. å…¨æ–‡è®¿é—®")]),e._v(" "),t("p",[e._v("Nodeå¯ä»¥å…¨æ–‡è®¿é—®ç¯å¢ƒï¼Œæ–‡ä»¶ç³»ç»Ÿå’Œç½‘ç»œã€‚è¿™æ˜¯ä¸¥é‡çš„å®‰å…¨æ¼æ´ã€‚æ¶æ„çš„npmæ¨¡å—å¯ä»¥è½»æ˜“è®¿é—®è¿™äº›èµ„æºã€‚\nDenoéœ€è¦æ˜ç¡®çš„æƒé™ï¼Œè¿™æ ·å°±èƒ½é™åˆ¶ä¸€äº›ä¸å¥½çš„è¡Œä¸ºã€‚")]),e._v(" "),t("h1",{attrs:{id:"å†…ç½®tsç¼–è¯‘å™¨-vs-å¤–éƒ¨æ”¯æŒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å†…ç½®tsç¼–è¯‘å™¨-vs-å¤–éƒ¨æ”¯æŒ"}},[e._v("#")]),e._v(" å†…ç½®TSç¼–è¯‘å™¨ vs. å¤–éƒ¨æ”¯æŒ")]),e._v(" "),t("p",[e._v("Nodeä¸èƒ½ç›´æ¥ä½¿ç”¨YSã€‚ä½ éœ€è¦ä½¿ç”¨ä¸€äº›å¾ˆé‡çš„å·¥å…·é“¾è¿‘æœŸç¼–è¯‘")]),e._v(" "),t("p",[e._v("Denoåˆ™å¤©ç”Ÿæ”¯æŒTSï¼Œä½¿ç”¨èµ·æ¥æ›´åŠ æµç•…")]),e._v(" "),t("h1",{attrs:{id:"promises-vs-å›è°ƒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#promises-vs-å›è°ƒ"}},[e._v("#")]),e._v(" Promises vs. å›è°ƒ")]),e._v(" "),t("p",[e._v("Nodeä½¿ç”¨ä¸é˜»å¡çš„I/Oï¼Œç„¶åå½“I/Oæ“ä½œå®Œæˆæ—¶ï¼Œéœ€è¦ç”¨å›è°ƒæ¥å¤„ç†é€šçŸ¥")]),e._v(" "),t("p",[e._v("Denoåˆ™ä½¿ç”¨async/await æ¨¡å¼ï¼Œéšè—äº†å›è°ƒé“¾çš„å¤æ‚æ€§ï¼Œç„¶ä»£ç æ›´å¹²å‡€ã€‚")]),e._v(" "),t("h1",{attrs:{id:"å¼‚å¸¸æ­»äº¡-vs-æœªæ•è·å¼‚å¸¸"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚å¸¸æ­»äº¡-vs-æœªæ•è·å¼‚å¸¸"}},[e._v("#")]),e._v(" å¼‚å¸¸æ­»äº¡ vs. æœªæ•è·å¼‚å¸¸")]),e._v(" "),t("p",[e._v("åœ¨Nodeä¸­ä½ å¯ä»¥å†™ä¸€ä¸ªå…¨å±€çš„å¥æŸ„æ¥å¤„ç†æ‰€æœ‰æœªæ•è·çš„å¼‚å¸¸")]),e._v(" "),t("blockquote",[t("p",[e._v("process.on(â€˜uncaughtExceptionâ€™, function (err) {")]),e._v(" "),t("p",[e._v("console.log(â€˜ignoringâ€¦â€™);")]),e._v(" "),t("p",[e._v("})")])]),e._v(" "),t("p",[e._v("åœ¨Denoæ—¶ï¼Œå¦‚æœæœ‰æœªæ•è·å¼‚å¸¸ï¼Œç¨‹åºå°±ä¼šæ­»æ‰ã€‚è¿™ä¸ªå†³ç­–å¾ˆé‡è¦ã€‚\næ·±å…¥çš„çœ‹ä¸€ä¸‹Denoçš„ä¸€äº›ç‰¹æ€§ï¼š")]),e._v(" "),t("h1",{attrs:{id:"æ¨¡å—å’ŒåŒ…ç®¡ç†"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡å—å’ŒåŒ…ç®¡ç†"}},[e._v("#")]),e._v(" æ¨¡å—å’ŒåŒ…ç®¡ç†")]),e._v(" "),t("p",[e._v("Denoé€šè¿‡URLå¼•å…¥æ¨¡å—ï¼Œè¿™å°±ä¸éœ€è¦ "),t("strong",[e._v("package.json")]),e._v(" å’Œ "),t("strong",[e._v("node_modules")]),e._v("ã€‚è¿™å°±æ„å‘³ç€ï¼Œæ²¡æœ‰ç¼“å­˜äº†ï¼Œä½ åªç”¨ä¸‹è½½ä¸€æ¬¡åŒ…å’Œæ¨¡å—ã€‚æ¯”å¦‚ï¼š")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("import { assertEquals } from \"https://deno.land/std@0.93.0/testing/asserts.ts\";\nassertEquals(2 + 2, 5);\nconsole.log('success!')\n")])])]),t("p",[e._v("å¯ä»¥çœ‹åˆ°ï¼Œå› ä¸º2+2ç­‰äº4ï¼Œè¿™ä¸ªç¨‹åºä¼šå‡ºé”™ã€‚Denoä¹Ÿæ˜¯è¿™ä¹ˆè®¤ä¸ºçš„")]),e._v(" "),t("blockquote",[t("p",[e._v("$ deno run ./assert.ts")]),e._v(" "),t("p",[e._v("error: Uncaught AssertionError: Values are not equal:")]),e._v(" "),t("p",[e._v("[Diff] Actual / Expected")]),e._v(" "),t("ul",[t("li",[e._v("4")])]),e._v(" "),t("ul",[t("li",[e._v("5")])]),e._v(" "),t("p",[e._v("throw new AssertionError(message);")]),e._v(" "),t("p",[e._v("^")]),e._v(" "),t("p",[e._v("at assertEquals (https://deno.land/std@0.93.0/testing/asserts.ts:219:9)")]),e._v(" "),t("p",[e._v("at file:///Users/gigi.sayfan/git/deno_test/assert.ts:3:1")])]),e._v(" "),t("p",[e._v("æ”¹ä¸€ä¸‹")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("import { assertEquals } from \"https://deno.land/std@0.93.0/testing/asserts.ts\";\nassertEquals(2 + 2, 4);\nconsole.log('success!')\n")])])]),t("p",[e._v("ow, it succeeds:")]),e._v(" "),t("blockquote",[t("p",[e._v("$ deno run ./assert.ts")]),e._v(" "),t("p",[e._v("Check file:///Users/gigi.sayfan/git/deno_test/assert.ts")]),e._v(" "),t("p",[e._v("success!")])]),e._v(" "),t("p",[e._v("OKäº†ã€‚\nçœ‹ä¸€ä¸‹åŒ…å’Œå¯¼å…¥")]),e._v(" "),t("blockquote",[t("p",[e._v('import { assertEquals } from â€œhttps://deno.land/std@0.93.0/testing/asserts.ts";')])]),e._v(" "),t("p",[e._v("è¿™é‡Œé€šè¿‡URLå¯¼å…¥äº†ä¸€ä¸ª"),t("strong",[e._v("assertEquals")]),e._v(" symbolï¼Œè¿™æ˜¯åœ¨Denoæ ‡å‡†åº“ä¸­åšçš„äº‹æƒ…ã€‚\næ³¨æ„URLä¸­åŒ…å«äº†ç‰ˆæœ¬ä¿¡æ¯ï¼Œæ‰€ä»¥è‡ªç„¶æ”¯æŒåŒä¸€ä¸ªåŒ…çš„ä¸åŒç‰ˆæœ¬ã€‚")]),e._v(" "),t("p",[e._v("Denoç»´æŠ¤äº†ä¸€ä¸ªè§„åˆ’ä¸­çš„åŒ…åˆ—è¡¨"),t("a",{attrs:{href:"https://deno.land/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://deno.land"),t("OutboundLink")],1),e._v("  ä½†ä½ å¯ä»¥ä»ä»»ä½•urlä¸­å¯¼å…¥åŒ…")]),e._v(" "),t("p",[e._v("å¯ä»¥å°è¯•ç€ä»GitHubçš„URLä¸Šå¯¼å…¥ä¸€ä¸ªåŒ…")]),e._v(" "),t("blockquote",[t("p",[e._v('import { assertEquals } from â€œhttps://raw.githubusercontent.com/denoland/deno_std/main/testing/asserts.ts"')])]),e._v(" "),t("h1",{attrs:{id:"å¼‚æ­¥æ”¯æŒ"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¼‚æ­¥æ”¯æŒ"}},[e._v("#")]),e._v(" å¼‚æ­¥æ”¯æŒ")]),e._v(" "),t("p",[e._v("Denoçš„å¼‚æ­¥APIä¼šè¿”å›promise.è¿™æ ·ä½ å¯ä»¥è¿è¡Œä½ çš„å¼‚æ­¥æ“ä½œï¼Œç„¶åawaitç»“æœï¼Œè€Œä¸ç”¨å»å¤„ç†ä¸€å›¢ä¹±éº»çš„å›è°ƒå‡½æ•°")]),e._v(" "),t("p",[e._v("æ¯”å¦‚:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("const promise = Deno.run({cmd: ['deno', 'eval', 'console.log(2+3)']})\nawait promise.status()\n\n/*\n\nOutput:\n5\n\n*/\n")])])]),t("p",[e._v("æˆ‘ä»¬ä½¿ç”¨ "),t("strong",[e._v("Deno.run()")]),e._v(" è¿è¡Œäº†ä¸€ä¸ªå­è¿›ç¨‹ã€‚å­è¿›ç¨‹æ˜¯å¦ä¸€ä¸ªDenoçš„å®ä¾‹ï¼Œç„¶åæˆ‘ä»¬ä¼ é€’äº†è¡¨è¾¾å¼"),t("strong",[e._v("console.log(2+3)")]),e._v(" ï¼Œå®ƒä¼šåœ¨æ§åˆ¶å°è¾“å‡º5")]),e._v(" "),t("p",[e._v("å¯¹äºè¿è¡Œæ—¶é—´æ¯”è¾ƒé•¿çš„ä»»åŠ¡ï¼Œä¸ºäº†ä¸é˜»å¡å½“å‰çº¿ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨await "),t("strong",[e._v("promise.status()")])]),e._v(" "),t("h1",{attrs:{id:"deno-å’Œ-ts"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deno-å’Œ-ts"}},[e._v("#")]),e._v(" Deno å’Œ TS")]),e._v(" "),t("p",[e._v("Denoå†…ç½®äº†å¯¹TSçš„æ”¯æŒï¼Œè¿™æ ·ä½ å°±ä¸éœ€è¦å·¥å…·é“¾æ¥è¿›è¡Œç¼–è¯‘äº†ã€‚Denoè‡ªå¸¦äº†ä¸€ä¸ªTSçš„ç¼–è¯‘å™¨ï¼Œå¹¶æŠŠè½¬æ¢åçš„TSæ¨¡å—æ”¾åœ¨ç¼“å­˜ä¸­ã€‚å½“TSæ–‡ä»¶æ”¹åŠ¨æ—¶ï¼Œä¼šè¢«é‡æ–°ç¼–è¯‘ä¸€ä¸‹ï¼Œä¿æŒæ›´æ–°ã€‚\næŸ¥çœ‹ç¼“å­˜ä½ç½®ï¼Œå’Œå·²æœ‰çš„æ¨¡å—ä¿¡æ¯ï¼š")]),e._v(" "),t("blockquote",[t("p",[e._v("$ deno info")]),e._v(" "),t("p",[e._v("DENO_DIR location: â€œ/Users/gigi.sayfan/Library/Caches/denoâ€")]),e._v(" "),t("p",[e._v("Remote modules cache: â€œ/Users/gigi.sayfan/Library/Caches/deno/depsâ€")]),e._v(" "),t("p",[e._v("Emitted modules cache: â€œ/Users/gigi.sayfan/Library/Caches/deno/genâ€")]),e._v(" "),t("p",[e._v("Language server registries cache: â€œ/Users/gigi.sayfan/Library/Caches/deno/registriesâ€")])]),e._v(" "),t("h1",{attrs:{id:"å®‰å…¨"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å®‰å…¨"}},[e._v("#")]),e._v(" å®‰å…¨")]),e._v(" "),t("p",[e._v("Denoè‡ªä¸‹è€Œä¸Šçš„ä¿è¯å®‰å…¨ï¼Œæ§åˆ¶ç”¨æˆ·å¯ä»¥è®¿é—®çš„æƒé™ã€‚\nç½‘ç»œï¼Œç¯å¢ƒï¼Œæ–‡ä»¶ç³»ç»Ÿé»˜è®¤æ˜¯ä¸å¯è®¿é—®çš„èµ„æºã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å°è¯•å†™ä¸€ä¸ªæ–‡ä»¶ï¼š")]),e._v(" "),t("p",[e._v("å‡å¦‚ä»£ç æ”¾åœ¨ "),t("strong",[e._v("write_file.ts")]),e._v("ä¸­.")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("Deno.writeTextFileSync('data.txt', 'some data')\n")])])]),t("p",[e._v("è¿è¡Œä¸€ä¸‹:")]),e._v(" "),t("blockquote",[t("p",[e._v("$ deno run write_file.ts")]),e._v(" "),t("p",[e._v("Check file:///Users/gigi.sayfan/git/deno_test/write_file.ts")]),e._v(" "),t("p",[e._v("error: Uncaught PermissionDenied: Requires write access to â€œ1.txtâ€, run again with the â€” allow-write flag")]),e._v(" "),t("p",[e._v("Deno.writeTextFileSync(â€˜data.txtâ€™, â€˜some dataâ€™)")]),e._v(" "),t("p",[e._v("^")]),e._v(" "),t("p",[e._v("at unwrapOpResult (deno:core/core.jsğŸ’¯13)")]),e._v(" "),t("p",[e._v("at Object.opSync (deno:core/core.js:114:12)")]),e._v(" "),t("p",[e._v("at openSync (deno:runtime/js/40_files.js:32:22)")]),e._v(" "),t("p",[e._v("at writeFileSync (deno:runtime/js/40_write_file.js:24:18)")]),e._v(" "),t("p",[e._v("at Object.writeTextFileSync (deno:runtime/js/40_write_file.js:82:12)")]),e._v(" "),t("p",[e._v("at file:///Users/gigi.sayfan/git/deno_test/write_file.ts:1:6")])]),e._v(" "),t("p",[e._v("æŠ›å‡ºä¸€ä¸ªæƒé™é”™è¯¯ï¼Œå‘Šè¯‰æˆ‘ä»¬éœ€è¦å¢åŠ ä¸€ä¸ªflagå€¼ã€‚ç„¶åæˆ‘ä»¬é‡æ–°è¿è¡Œä¸€ä¸‹ï¼š")]),e._v(" "),t("blockquote",[t("p",[e._v("$ deno run â€” allow-write write_file.ts")]),e._v(" "),t("p",[e._v("Check file:///Users/gigi.sayfan/git/deno_test/write_file.ts")]),e._v(" "),t("p",[e._v("$ cat data.txt")]),e._v(" "),t("p",[e._v("some data")])]),e._v(" "),t("p",[e._v("ç°åœ¨å¯ä»¥äº†ã€‚å› æ­¤ï¼Œè¦å°å¿ƒè¿è¡Œä½ çš„Denoä»£ç ã€‚")]),e._v(" "),t("h1",{attrs:{id:"å·¥å…·"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å·¥å…·"}},[e._v("#")]),e._v(" å·¥å…·")]),e._v(" "),t("p",[e._v("Denoå¾ˆæ³¨é‡å¼€å‘è€…ä½“éªŒï¼Œæ‰€ä»¥æä¾›äº†å¾ˆå¤šå·¥å…·ã€‚çœ‹çœ‹æœ‰å“ªäº›ï¼š")]),e._v(" "),t("h1",{attrs:{id:"æ ¼å¼åŒ–"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ ¼å¼åŒ–"}},[e._v("#")]),e._v(" æ ¼å¼åŒ–")]),e._v(" "),t("p",[e._v("å‡å¦‚æœ‰æ–‡ä»¶ "),t("strong",[e._v("fmt-test.ts")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function foo()\n{\n    console.log('foo here')\n  const x    = 3\n         console.log('x + 2 =', x+2)\n}\n\nfoo()\n")])])]),t("p",[e._v("å®ƒæ˜¯TSçš„ï¼Œä½†æ˜¯ä»£ç å†™çš„å¾ˆä¹±")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ "),t("strong",[e._v("deno fmt")]),e._v(":")]),e._v(" "),t("blockquote",[t("p",[e._v("$ cat fmt_test.ts | deno fmt -")])]),e._v(" "),t("p",[e._v("æˆ‘ä»¬ä¼šå¾—åˆ°:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('function foo() {\n  console.log("foo here");\n  const x = 3;\n  console.log("x + 2 =", x + 2);\n}\n\nfoo();\n')])])]),t("p",[e._v("æ•ˆæœä¸é”™")]),e._v(" "),t("h1",{attrs:{id:"æµ‹è¯•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æµ‹è¯•"}},[e._v("#")]),e._v(" æµ‹è¯•")]),e._v(" "),t("p",[e._v("æµ‹è¯•çš„é‡è¦æ€§æ— å®¹ç½®ç–‘ï¼ŒDenoä¸éœ€è¦å€Ÿç”¨ç¬¬ä¸‰æ–¹çš„æ¡†æ¶ï¼Œåªè¦ä½¿ç”¨è‡ªå·±çš„æ–­è¨€æ¨¡å—å°±å¯ä»¥ã€‚")]),e._v(" "),t("p",[e._v("æˆ‘ä»¬å†æ–‡ä»¶"),t("strong",[e._v("test-test.ts")]),e._v("ä¸­å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°"),t("strong",[e._v("is_palindrome()")]),e._v(" ï¼Œç”¨æ¥æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦å›æ–‡ï¼Œç„¶ååŠ ä¸€äº›æµ‹è¯•ã€‚å‰ä¸¤å“¥æµ‹è¯•åº”è¯¥é€šè¿‡ï¼Œè€Œç¬¬ä¸‰ä¸ªåº”è¯¥å¤±è´¥ã€‚")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('import { assert } from "https://deno.land/std@0.95.0/testing/asserts.ts";\n\nfunction is_palindrome(s: string) {\n  const ss = s.replaceAll(\' \', \'\')\n  const a = ss.split(\'\')\n  return a.reverse().join(\'\') == ss\n} \n\nawait Deno.test("Palindrome 1 - success", () => {\n  assert(is_palindrome("tattarrattat"));\n})\n\nawait Deno.test("Palindrome 2 - success", () => {\n  assert(is_palindrome("never odd or even"));\n})\n\nawait Deno.test("Palindrome 3 - fail", () => {\n  assert(is_palindrome("this is not a palindrom"), "fail!")\n})\n')])])]),t("p",[e._v("è¿è¡Œ "),t("strong",[e._v("deno test")]),e._v(" å‘½ä»¤:")]),e._v(" "),t("blockquote",[t("p",[e._v("$ deno test test_test.ts")]),e._v(" "),t("p",[e._v("Check file:///Users/gigi.sayfan/git/deno_test/$deno$test.ts")]),e._v(" "),t("p",[e._v("running 3 tests")]),e._v(" "),t("p",[e._v("test Palindrome 1 â€” success â€¦ ok (1ms)")]),e._v(" "),t("p",[e._v("test Palindrome 2 â€” success â€¦ ok (1ms)")]),e._v(" "),t("p",[e._v("test Palindrome 3 â€” fail â€¦ FAILED (2ms)")]),e._v(" "),t("p",[e._v("failures:")]),e._v(" "),t("p",[e._v("Palindrome 3 â€” fail")]),e._v(" "),t("p",[e._v("AssertionError: fail!")]),e._v(" "),t("p",[e._v("at assert (https://deno.land/std@0.95.0/testing/asserts.ts:178:11)")]),e._v(" "),t("p",[e._v("at file:///Users/gigi.sayfan/git/deno_test/test_test.ts:19:3")]),e._v(" "),t("p",[e._v("at asyncOpSanitizer (deno:runtime/js/40_testing.js:37:15)")]),e._v(" "),t("p",[e._v("at resourceSanitizer (deno:runtime/js/40_testing.js:73:13)")]),e._v(" "),t("p",[e._v("at Object.exitSanitizer [as fn] (deno:runtime/js/40_testing.jsğŸ’¯15)")]),e._v(" "),t("p",[e._v("at TestRunner.[Symbol.asyncIterator] (deno:runtime/js/40_testing.js:272:24)")]),e._v(" "),t("p",[e._v("at AsyncGenerator.next ("),t("anonymous",[e._v(")\nat Object.runTests (deno:runtime/js/40_testing.js:347:22)")])],1),e._v(" "),t("p",[e._v("at async file:///Users/gigi.sayfan/git/deno_test/$deno$test.ts:3:1")]),e._v(" "),t("p",[e._v("failures:")]),e._v(" "),t("p",[e._v("Palindrome 3 â€” fail")]),e._v(" "),t("p",[e._v("test result: FAILED. 2 passed; 1 failed; 0 ignored; 0 measured; 0 filtered out (4ms)")])]),e._v(" "),t("h1",{attrs:{id:"æ„å»º"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ„å»º"}},[e._v("#")]),e._v(" æ„å»º")]),e._v(" "),t("p",[e._v("æ„å»ºå¯ä»¥è®©æ‰€æœ‰çš„åŒ…é›†æˆåœ¨ä¸€ä¸ªbundleä¸­ã€‚Denoæä¾›äº†"),t("strong",[e._v("bundle")]),e._v("å‘½ä»¤ã€‚\nå‡å¦‚"),t("strong",[e._v("foobar.ts")]),e._v(" æ¨¡å—ä» "),t("strong",[e._v("foo.ts")]),e._v("ä¸­å¼•å…¥äº† **foo()"),t("strong",[e._v("å‡½æ•°ï¼Œä»")]),e._v("bar.ts."),t("strong",[e._v("ä¸­å¼•å…¥äº†")]),e._v("bar()**å‡½æ•°")]),e._v(" "),t("p",[t("strong",[e._v("foo.ts")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("export function foo() {\n    console.log('foo')\n}\n")])])]),t("p",[t("strong",[e._v("bar.ts")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("export function bar() {\n\n console.log('bar') \n}\n")])])]),t("p",[t("strong",[e._v("foobar.ts")]),e._v(":")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('import { foo } from "./foo.ts"\nimport { bar } from "./bar.ts"\n\nfoo()\nbar()\n')])])]),t("p",[e._v("Letâ€™s bundle them all up into a single file:")]),e._v(" "),t("blockquote",[t("p",[e._v("$ deno bundle foobar.ts")]),e._v(" "),t("p",[e._v("Bundle file:///Users/gigi.sayfan/git/deno_test/foobar.ts")]),e._v(" "),t("p",[e._v("Check file:///Users/gigi.sayfan/git/deno_test/foobar.ts")])]),e._v(" "),t("p",[e._v("Here is the result:")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function foo() {\n    console.log('foo');\n}\nfunction bar() {\n    console.log('bar');\n}\nfoo();\nbar();\n")])])]),t("p",[e._v("å¯ä»¥çœ‹åˆ°ï¼Œimportå£°æ˜å·²ç»ä¸è§äº†ï¼Œ"),t("strong",[e._v("foo()")]),e._v("  å’Œ "),t("strong",[e._v("bar()")]),e._v(" è¢«ç›´æ¥åµŒå…¥åˆ°ä¸€ä¸ªbundleæ–‡ä»¶ä¸­äº†ã€‚")]),e._v(" "),t("h1",{attrs:{id:"è°ƒè¯•"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è°ƒè¯•"}},[e._v("#")]),e._v(" è°ƒè¯•")]),e._v(" "),t("p",[e._v("è¿è¡Œæ—¶ä½¿ç”¨ "),t("strong",[e._v("â€” inspect")]),e._v(" æˆ–è€…**â€” inspect-brk** æ ‡è®°ï¼Œå°±å¯ä»¥ä½¿ç”¨Chrome DevToolæ¥è¿›è¡Œè°ƒè¯•ã€‚ä¸ªäººæ¨èä½¿ç”¨ JetBrains IDEs å’Œä¸€äº›denoæ’ä»¶ã€‚\nå¦‚æœä½¿ç”¨VSCodeï¼Œå°±éœ€è¦æ‰‹åŠ¨é…ç½®ä¸€ä¸‹"),t("strong",[e._v("launch.json")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v('{\n  "version": "0.2.0",\n  "configurations": [\n    {\n      "name": "Deno",\n      "type": "pwa-node",\n      "request": "launch",\n      "cwd": "${workspaceFolder}",\n      "runtimeExecutable": "deno",\n      "runtimeArgs": ["run", "--inspect-brk", "-A", "${file}"],\n      "attachSimplePort": 9229\n    }\n  ]\n}\n')])])]),t("h1",{attrs:{id:"è„šæœ¬å®‰è£…"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è„šæœ¬å®‰è£…"}},[e._v("#")]),e._v(" è„šæœ¬å®‰è£…")]),e._v(" "),t("p",[e._v("ä½¿ç”¨å‘½ä»¤è¡Œç»å¸¸ä¼šè¦ä¼ é€’å¾ˆå¤šé¢å¤–çš„å‚æ•°ï¼Œä¸å¤ªæ–¹ä¾¿ã€‚ä½ å¯ä»¥ä½¿ç”¨ "),t("strong",[e._v("deno install")]),e._v("æ¥åšä¸€äº›å¯åŠ¨è„šæœ¬ï¼ŒæŠŠè¿™ä¸ªè„šæœ¬æ”¾åœ¨ä½ æƒ³æ”¾çš„ä½ç½®ï¼Œæˆ–è€…**$HOME/.deno/bin**\næˆ‘ä»¬å®‰è£…ä¸€ä¸ªfoobar")]),e._v(" "),t("blockquote",[t("p",[e._v("$ deno install foobar.ts")]),e._v(" "),t("p",[e._v("âœ… Successfully installed foobar")]),e._v(" "),t("p",[e._v("/Users/gigi.sayfan/.deno/bin/foobar")]),e._v(" "),t("p",[e._v("â„¹ï¸ Add /Users/gigi.sayfan/.deno/bin to PATH")]),e._v(" "),t("p",[e._v("export PATH=â€/Users/gigi.sayfan/.deno/bin:$PATHâ€")])]),e._v(" "),t("p",[e._v("æˆ‘åœ¨PATHç¯å¢ƒå˜é‡ä¸­å¢åŠ äº†**$HOME/.deno/bin**ã€‚è¿™æ ·æˆ‘å¯ä»¥åœ¨ä»»æ„ä½ç½®æ‰§è¡Œ"),t("strong",[e._v("foobar")]),e._v("ï¼Œè¿è¡Œè„šæœ¬")]),e._v(" "),t("blockquote",[t("p",[e._v("$ cd /tmp")]),e._v(" "),t("p",[e._v("$ foobar")]),e._v(" "),t("p",[e._v("foo")]),e._v(" "),t("p",[e._v("bar")])]),e._v(" "),t("h1",{attrs:{id:"deno-æœºåˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#deno-æœºåˆ¶"}},[e._v("#")]),e._v(" Deno æœºåˆ¶")]),e._v(" "),t("p",[e._v("Denoæ˜¯åŸºäºRustå’ŒTypeScriptæ¥å®ç°çš„ã€‚ä¸»è¦çš„ç»„ä»¶æœ‰è¿™äº›ï¼š")]),e._v(" "),t("ul",[t("li",[e._v("deno")]),e._v(" "),t("li",[e._v("deno_core")]),e._v(" "),t("li",[e._v("tsc")]),e._v(" "),t("li",[e._v("swc")]),e._v(" "),t("li",[e._v("rusty_v8\n[deno]åˆ›å»ºäº†å¯æ‰§è¡Œçš„denoï¼Œæˆ‘ä»¬ä¸ä¹‹äº¤äº’ã€‚\n[deno_core]åˆ›å»ºJSè¿è¡Œæ—¶ã€‚Denoä½¿ç”¨äº† "),t("a",{attrs:{href:"https://lib.rs/crates/tokio",target:"_blank",rel:"noopener noreferrer"}},[e._v("Tokio"),t("OutboundLink")],1),e._v(" æ¥å®ç°å¼‚æ­¥äº‹ä»¶å¾ªç¯ã€‚\n"),t("a",{attrs:{href:"https://www.typescriptlang.org/docs/handbook/2/basic-types.html#tsc-the-typescript-compiler",target:"_blank",rel:"noopener noreferrer"}},[e._v("tsc"),t("OutboundLink")],1),e._v("æ˜¯ä¸€ä¸ªTSçš„æ ‡å‡†ç¼–è¯‘å™¨ã€‚ä¹Ÿç”¨æ¥åšç±»å‹æ£€æŸ¥ã€‚\n"),t("a",{attrs:{href:"https://swc.rs/",target:"_blank",rel:"noopener noreferrer"}},[e._v("swc"),t("OutboundLink")],1),e._v("ç”¨æ¥åŠ é€ŸWebç¼–è¯‘ï¼Œç°åœ¨ä¸»è¦ç¼–è¯‘ä½ çš„JSå’ŒTSä»£ç ã€‚\n[rustry_v8]åˆ™ä½¿ç”¨Rustä¸V8çš„C++ APIç»‘å®šã€‚")])]),e._v(" "),t("h1",{attrs:{id:"ç»¼è¿°"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ç»¼è¿°"}},[e._v("#")]),e._v(" ç»¼è¿°")]),e._v(" "),t("p",[e._v("Denoå¾ˆå¹´è½»ï¼Œä½†æ˜¯ä¸å¯å°è§‘ã€‚å®ƒåŸºäºNodeçš„ç»éªŒå’Œæ•™è®­æ¥è®¾è®¡çš„ã€‚å®ƒçš„æŠ€æœ¯æå‡è¿œè¿œè¶…è¿‡äº†Node,å¹¶ä¸”ä½¿ç”¨äº†æ›´åŠ ç°ä»£çš„æŠ€æœ¯æ ˆã€‚æœ€å¤§çš„é—®é¢˜æ˜¯å®ƒä¼šä¸ä¼šåœ¨æˆä¸ºJSå’ŒTSçš„åå°è¿è¡Œæ—¶ã€‚ç°åœ¨è¯´è¿˜ä¸ºæ—¶å°šæ—©ï¼Œä½†æ˜¯å¦‚æœçœŸçš„è¿™æ ·ï¼Œæˆ‘è¿˜æ˜¯å¾ˆæœŸå¾…çš„ã€‚")])])}),[],!1,null,null,null);s.default=n.exports}}]);